<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drops Coffee App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa;
        }

        .content-wrapper {
            min-height: 100vh;
            padding-bottom: 100px;
        }

        .floating-navbar {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: calc(100% - 40px);
            max-width: 500px;
            border-radius: 20px;
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px) saturate(80%);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .floating-navbar svg {
            width: 24px;
            height: 24px;
        }

        .nav-item {
            position: relative;
        }

        .nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 3px;
            background-color: white;
            border-radius: 3px;
        }

        .cart-button,
        .size-button {
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px) saturate(80%);
            transition: all 0.3s ease;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            bottom: 8px;
        }

        .cart-button {
            right: 8px;
        }

        .size-button {
            left: 8px;
        }

        .cart-button.expanded {
            width: 96px;
        }

        .cart-button svg {
            transition: all 0.3s ease;
        }

        .cart-button.expanded .plus-icon {
            display: none;
        }

        .cart-button .counter {
            display: none;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        .cart-button.expanded .counter {
            display: inline;
        }

        .cart-button .minus-icon,
        .cart-button .plus-icon-small {
            display: none;
        }

        .cart-button.expanded .minus-icon,
        .cart-button.expanded .plus-icon-small {
            display: flex;
        }

        .cart-button.expanded .minus-icon {
            position: absolute;
            left: 8px;
        }

        .cart-button.expanded .plus-icon-small {
            position: absolute;
            right: 8px;
        }

        .size-popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .size-popup.active {
            display: flex;
        }

        .size-popup-content {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .size-option {
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px) saturate(80%);
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .size-option:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }

        @media (min-width: 768px) {
            .floating-navbar {
                bottom: 30px;
                max-width: 600px;
            }
        }
    </style>
</head>

<body class="bg-gray-100">
    <div class="content-wrapper">
        <!-- Header -->
        <header class="bg-white shadow-md">
            <div class="container mx-auto px-4 py-6 flex items-center justify-between">
                <h1 class="text-2xl font-bold text-gray-800">drops</h1>
                <div class="flex items-center space-x-4">
                    <button class="text-gray-600 hover:text-gray-800 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </button>
                    <button class="text-gray-600 hover:text-gray-800 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-8">
            <h2 id="categoryTitle" class="text-2xl font-semibold mb-6 text-gray-800">All Items</h2>
            <div id="productGrid" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6">
                <!-- Products will be dynamically inserted here -->
            </div>
        </main>
    </div>

    <!-- Floating Footer Navigation -->
    <footer class="floating-navbar">
        <nav class="flex justify-around items-center py-4">
            <button class="nav-item text-white hover:text-gray-300 transition-colors" data-category="hot">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
            </button>
            <button class="nav-item text-white hover:text-gray-300 transition-colors" data-category="cold">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
                </svg>
            </button>
            <button class="nav-item text-white hover:text-gray-300 transition-colors active" data-category="all">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                </svg>
            </button>
            <button class="nav-item text-white hover:text-gray-300 transition-colors" data-category="food">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                </svg>
            </button>
            <button class="nav-item text-white hover:text-gray-300 transition-colors" data-category="dessert">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M21 15.546c-.523 0-1.046.151-1.5.454a2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.701 2.701 0 00-1.5-.454M9 6v2m3-2v2m3-2v2M9 3h.01M12 3h.01M15 3h.01M21 21v-7a2 2 0 00-2-2H5a2 2 0 00-2 2v7h18zm-3-9v-2a2 2 0 00-2-2H8a2 2 0 00-2 2v2h12z" />
                </svg>
            </button>
        </nav>
    </footer>

    <!-- Size Selection Popup -->
    <div id="sizePopup" class="size-popup">
        <div class="size-popup-content">
            <h3 class="text-xl font-semibold mb-4">Select Size</h3>
            <button class="size-option" data-size="S">Small</button>
            <button class="size-option" data-size="M">Medium</button>
            <button class="size-option" data-size="L">Large</button>
        </div>
    </div>

    <script>
        // JSON data for coffee products
        const coffeeProducts = [{
                id: 1,
                name: "Caramel Macchiato",
                price: 150,
                image: "https://png.pngtree.com/png-vector/20240205/ourlarge/pngtree-the-strawberry-milkshake-png-image_11654489.png",
                category: "hot"
            },
            {
                id: 2,
                name: "Latte",
                price: 140,
                image: "https://png.pngtree.com/png-vector/20240205/ourlarge/pngtree-the-strawberry-milkshake-png-image_11654489.png",
                category: "hot"
            },
            {
                id: 3,
                name: "Cappuccino",
                price: 130,
                image: "https://png.pngtree.com/png-vector/20240205/ourlarge/pngtree-the-strawberry-milkshake-png-image_11654489.png",
                category: "hot"
            },
            {
                id: 4,
                name: "Iced Americano",
                price: 120,
                image: "https://png.pngtree.com/png-vector/20240205/ourlarge/pngtree-the-strawberry-milkshake-png-image_11654489.png",
                category: "cold"
            },
            {
                id: 5,
                name: "Espresso",
                price: 110,
                image: "https://png.pngtree.com/png-vector/20240205/ourlarge/pngtree-the-strawberry-milkshake-png-image_11654489.png",
                category: "hot"
            },
            {
                id: 6,
                name: "Iced Mocha",
                price: 160,
                image: "https://png.pngtree.com/png-vector/20240205/ourlarge/pngtree-the-strawberry-milkshake-png-image_11654489.png",
                category: "cold"
            },
            {
                id: 7,
                name: "Croissant",
                price: 80,
                image: "https://png.pngtree.com/png-vector/20240205/ourlarge/pngtree-the-strawberry-milkshake-png-image_11654489.png",
                category: "food"
            },
            {
                id: 8,
                name: "Cheesecake",
                price: 135,
                image: "https://png.pngtree.com/png-vector/20240205/ourlarge/pngtree-the-strawberry-milkshake-png-image_11654489.png",
                category: "dessert"
            }
        ];

        // Object to store counter values
        const counterValues = {};

        // Object to store size selections
        const sizeSelections = {};

        // Function to create a product card
        function createProductCard(product) {
            const count = counterValues[product.id] || 0;
            const isExpanded = count > 0;
            const size = sizeSelections[product.id] || 'S';
            return `
                <div class="bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 relative pb-16">
                    <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover">
                    <div class="p-4">
                        <h3 class="font-semibold text-lg mb-2">${product.name}</h3>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600 font-medium">${product.price} Taka</span>
                        </div>
                    </div>
                    <button id="size-btn-${product.id}" class="size-button text-white w-8 h-8 rounded-full" onclick="openSizePopup(${product.id})">
                        ${size}
                    </button>
                    <div id="cart-btn-${product.id}" class="cart-button text-white w-8 h-8 rounded-full ${isExpanded ? 'expanded' : ''}">
                        <button class="plus-icon w-full h-full flex items-center justify-center" onclick="addToCart(${product.id})">
                            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                            </svg>
                        </button>
                        <span class="counter">${count}</span>
                        <button class="minus-icon w-8 h-8 flex items-center justify-center" onclick="decrementCounter(${product.id})">
                            <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4" />
                            </svg>
                        </button>
                        <button class="plus-icon-small w-8 h-8 flex items-center justify-center" onclick="incrementCounter(${product.id})">
                            <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                            </svg>
                        </button>
                    </div>
                </div>
            `;
        }

        // Function to render products based on category
        function renderProducts(category = 'all') {
            const productGrid = document.getElementById('productGrid');
            const filteredProducts = category === 'all' ?
                coffeeProducts :
                coffeeProducts.filter(product => product.category === category);
            productGrid.innerHTML = filteredProducts.map(createProductCard).join('');

            // Update category title
            const categoryTitle = document.getElementById('categoryTitle');
            categoryTitle.textContent = category === 'all' ? 'All Items' :
                `${category.charAt(0).toUpperCase() + category.slice(1)} Menu`;
        }

        // Function to add to cart
        function addToCart(productId) {
            incrementCounter(productId);
        }

        // Function to increment counter
        function incrementCounter(productId) {
            counterValues[productId] = (counterValues[productId] || 0) + 1;
            updateCounter(productId);
        }

        // Function to decrement counter
        function decrementCounter(productId) {
            if (counterValues[productId] > 1) {
                counterValues[productId]--;
            } else {
                delete counterValues[productId];
            }
            updateCounter(productId);
        }

        // Function to update counter display
        function updateCounter(productId) {
            const button = document.getElementById(`cart-btn-${productId}`);
            const counter = button.querySelector('.counter');
            const count = counterValues[productId] || 0;

            counter.textContent = count;

            if (count > 0) {
                button.classList.add('expanded');
            } else {
                button.classList.remove('expanded');
            }
        }

        // Function to open size selection popup
        function openSizePopup(productId) {
            const popup = document.getElementById('sizePopup');
            popup.classList.add('active');
            popup.dataset.productId = productId;
        }

        // Function to close size selection popup
        function closeSizePopup() {
            const popup = document.getElementById('sizePopup');
            popup.classList.remove('active');
        }

        // Function to select size
        function selectSize(size) {
            const popup = document.getElementById('sizePopup');
            const productId = parseInt(popup.dataset.productId);
            sizeSelections[productId] = size;
            updateSizeButton(productId);
            closeSizePopup();
        }

        // Function to update size button
        function updateSizeButton(productId) {
            const sizeButton = document.getElementById(`size-btn-${productId}`);
            sizeButton.textContent = sizeSelections[productId];
        }

        // Function to handle category selection
        function selectCategory(category) {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));
            event.currentTarget.classList.add('active');
            renderProducts(category);
        }

        // Add event listeners to navbar items
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', (event) => {
                const category = event.currentTarget.dataset.category;
                selectCategory(category);
            });
        });

        // Add event listeners to size options
        document.querySelectorAll('.size-option').forEach(option => {
            option.addEventListener('click', (event) => {
                const size = event.currentTarget.dataset.size;
                selectSize(size);
            });
        });

        // Initial render
        window.onload = () => renderProducts('all');
    </script>
</body>

</html>